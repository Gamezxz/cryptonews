{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../components/ArticleDetail.js"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","\"use client\";\n\nimport { useState } from \"react\";\nimport Link from \"next/link\";\n\nfunction timeAgo(dateStr) {\n  const now = new Date();\n  const date = new Date(dateStr);\n  const diff = Math.floor((now - date) / 1000);\n\n  if (diff < 60) return \"just now\";\n  if (diff < 3600) return `${Math.floor(diff / 60)}m ago`;\n  if (diff < 86400) return `${Math.floor(diff / 3600)}h ago`;\n  if (diff < 604800) return `${Math.floor(diff / 86400)}d ago`;\n  return date.toLocaleDateString();\n}\n\nfunction readingTime(wordCount) {\n  const minutes = Math.ceil(wordCount / 200);\n  return minutes < 1 ? \"1 min read\" : `${minutes} min read`;\n}\n\nfunction getImageUrl(item) {\n  if (item.enclosure) return item.enclosure;\n  if (item.content) {\n    const imgMatch = item.content.match(/<img[^>]+src=[\"']([^\"']+)[\"']/i);\n    if (imgMatch?.[1]) return imgMatch[1];\n  }\n  return null;\n}\n\nexport default function ArticleDetail({ article, relatedArticles }) {\n  const [imageError, setImageError] = useState(false);\n  const [articleData, setArticleData] = useState(article);\n\n  const imageUrl = getImageUrl(articleData);\n  const tags =\n    articleData.categories?.length > 0\n      ? articleData.categories\n      : [articleData.category];\n\n  const hasSummary = articleData.aiSummary || articleData.aiSummaryThai;\n  const hasFullContent =\n    articleData.fullContent && articleData.fullContent.length > 100;\n\n  return (\n    <div className=\"article-detail\">\n      {/* Back Navigation */}\n      <nav className=\"article-nav\">\n        <Link href=\"/\" className=\"back-link\">\n          <span className=\"back-arrow\">&larr;</span> Back to Feed\n        </Link>\n      </nav>\n\n      {/* Hero Image */}\n      {imageUrl && !imageError && (\n        <div className=\"article-hero\">\n          <img\n            src={imageUrl}\n            alt={articleData.title}\n            onError={() => setImageError(true)}\n          />\n        </div>\n      )}\n\n      {/* Header */}\n      <header className=\"article-header\">\n        <div className=\"article-badges\">\n          <span className=\"source-badge\">{articleData.source}</span>\n          {articleData.sentiment && (\n            <span\n              className={`sentiment-badge sentiment-${articleData.sentiment}`}\n            >\n              {articleData.sentiment === \"bullish\"\n                ? \"↑ Bullish\"\n                : articleData.sentiment === \"bearish\"\n                  ? \"↓ Bearish\"\n                  : \"— Neutral\"}\n            </span>\n          )}\n          {articleData.wordCount > 0 && (\n            <span className=\"reading-time-badge\">\n              {readingTime(articleData.wordCount)}\n            </span>\n          )}\n        </div>\n\n        <h1 className=\"article-title-main\">\n          {articleData.translatedTitle || articleData.title}\n        </h1>\n        {articleData.translatedTitle && (\n          <p className=\"article-title-original\">{articleData.title}</p>\n        )}\n\n        <div className=\"article-meta-row\">\n          <time dateTime={articleData.pubDate}>\n            {timeAgo(articleData.pubDate)}\n          </time>\n          <span className=\"meta-separator\">//</span>\n          <span>{articleData.author || articleData.source}</span>\n          <div className=\"article-tags\">\n            {tags.map((tag) => (\n              <span key={tag} className={`category-badge tag-${tag}`}>\n                {tag}\n              </span>\n            ))}\n          </div>\n        </div>\n      </header>\n\n      {/* AI Summary Box */}\n      {hasSummary ? (\n        <section className=\"summary-box\">\n          <div className=\"summary-header\">\n            <span className=\"summary-icon\">AI</span>\n            <h2>Summary</h2>\n          </div>\n          {articleData.aiSummaryThai && (\n            <div className=\"summary-section\">\n              <span className=\"lang-label lang-th\">TH</span>\n              <p>{articleData.aiSummaryThai}</p>\n            </div>\n          )}\n          {articleData.aiSummary && articleData.aiSummaryThai && (\n            <div className=\"lang-divider\"></div>\n          )}\n          {articleData.aiSummary && (\n            <div className=\"summary-section\">\n              <span className=\"lang-label lang-en\">EN</span>\n              <p>{articleData.aiSummary}</p>\n            </div>\n          )}\n          {articleData.keyPoints?.length > 0 && (\n            <div className=\"key-points\">\n              <h3>Key Points</h3>\n              <ul>\n                {articleData.keyPoints.map((point, i) => (\n                  <li key={i}>{point}</li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </section>\n      ) : (\n        <section className=\"summary-box summary-box-empty\">\n          <div className=\"summary-header\">\n            <span className=\"summary-icon\">AI</span>\n            <h2>Summary</h2>\n          </div>\n          <p className=\"summary-pending\">\n            AI is processing this article. Summary will be available soon.\n          </p>\n        </section>\n      )}\n\n      {/* Full Content */}\n      <section className=\"article-body\">\n        <h2 className=\"section-label\">Article</h2>\n        {hasFullContent ? (\n          <div className=\"article-full-text\">\n            {articleData.fullContent\n              .split(\"\\n\")\n              .filter((p) => p.trim())\n              .map((para, i) => (\n                <p key={i}>{para}</p>\n              ))}\n          </div>\n        ) : (\n          <div className=\"article-full-text\">\n            {articleData.translatedContent && (\n              <div className=\"bilingual-section\">\n                <span className=\"lang-label lang-th\">TH</span>\n                <p>{articleData.translatedContent}</p>\n              </div>\n            )}\n            {articleData.translatedContent && articleData.content && (\n              <div className=\"lang-divider\"></div>\n            )}\n            {articleData.content && (\n              <div className=\"bilingual-section\">\n                <span className=\"lang-label lang-en\">EN</span>\n                <p>{articleData.content}</p>\n              </div>\n            )}\n          </div>\n        )}\n      </section>\n\n      {/* Source Link */}\n      <div className=\"article-source-link\">\n        <a href={articleData.link} target=\"_blank\" rel=\"noopener noreferrer\">\n          Read original at {articleData.source} &rarr;\n        </a>\n      </div>\n\n      {/* Related Articles */}\n      {relatedArticles?.length > 0 && (\n        <section className=\"related-articles\">\n          <h2 className=\"section-label\">Related</h2>\n          <div className=\"related-grid\">\n            {relatedArticles.map((rel) => (\n              <Link\n                href={`/news/${rel.slug || rel._id}/`}\n                key={rel._id}\n                className=\"related-card\"\n              >\n                <span className=\"related-source\">{rel.source}</span>\n                <h3>{rel.translatedTitle || rel.title}</h3>\n                <time>{timeAgo(rel.pubDate)}</time>\n              </Link>\n            ))}\n          </div>\n        </section>\n      )}\n    </div>\n  );\n}\n"],"names":["module","exports","require","vendored","AppRouterContext","ReactServerDOMTurbopackClient"],"mappings":"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","ignoreList":[0,1]}