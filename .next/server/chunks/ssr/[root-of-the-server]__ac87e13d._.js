module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},22734,(a,b,c)=>{b.exports=a.x("fs",()=>require("fs"))},92509,(a,b,c)=>{b.exports=a.x("url",()=>require("url"))},33405,(a,b,c)=>{b.exports=a.x("child_process",()=>require("child_process"))},21517,(a,b,c)=>{b.exports=a.x("http",()=>require("http"))},24836,(a,b,c)=>{b.exports=a.x("https",()=>require("https"))},70722,(a,b,c)=>{b.exports=a.x("tty",()=>require("tty"))},27699,(a,b,c)=>{b.exports=a.x("events",()=>require("events"))},4446,(a,b,c)=>{b.exports=a.x("net",()=>require("net"))},55004,(a,b,c)=>{b.exports=a.x("tls",()=>require("tls"))},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},88947,(a,b,c)=>{b.exports=a.x("stream",()=>require("stream"))},6461,(a,b,c)=>{b.exports=a.x("zlib",()=>require("zlib"))},874,(a,b,c)=>{b.exports=a.x("buffer",()=>require("buffer"))},25968,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(83915),e=a.i(38246);function f({item:a,index:d}){var f,g;let h,i,j,k,l=function(a){if(a.enclosure)return a.enclosure;if(a.content){let b=a.content.match(/<img[^>]+src=["']([^"']+)["']/i);if(b?.[1])return b[1]}if(a["media:content"]){let b=a["media:content"].$?.url||a["media:content"];if(b)return b}return null}(a),m=(f=a.category,(h={bitcoin:"from-orange-500 to-yellow-500",ethereum:"from-purple-500 to-blue-500",defi:"from-green-500 to-emerald-500",nft:"from-pink-500 to-rose-500",altcoins:"from-blue-500 to-cyan-500",exchanges:"from-indigo-500 to-violet-500",regulation:"from-slate-500 to-gray-600",mining:"from-amber-600 to-yellow-600",general:"from-teal-500 to-cyan-500"})[f]||h.general),[n,o]=(0,c.useState)(!1),p=a.categories&&a.categories.length>0?a.categories:[a.category],q=a.translatedContent&&a.content,r=a.translatedContent||a.content;return(0,b.jsxs)("article",{className:"news-card",style:{animationDelay:`${.03*d}s`},children:[(0,b.jsxs)("div",{className:"news-image",children:[l&&!n?(0,b.jsx)("img",{src:l,alt:a.title,className:"news-img",loading:"lazy",onError:()=>o(!0)}):null,(0,b.jsx)("div",{className:`news-placeholder bg-gradient-to-br ${m}`,style:{display:!l||n?"flex":"none"},children:(0,b.jsx)("span",{className:"placeholder-icon",children:"bitcoin"===a.category?"₿":"ethereum"===a.category?"Ξ":"defi"===a.category?"$":"mining"===a.category?"#":"//"})})]}),(0,b.jsxs)("div",{className:"news-content",children:[(0,b.jsxs)("div",{className:"news-source",children:[(0,b.jsx)("span",{className:"source-badge",children:a.source}),a.translatedContent&&(0,b.jsx)("span",{className:"translate-badge",children:"TH"}),a.sentiment&&(0,b.jsx)("span",{className:`sentiment-badge sentiment-${a.sentiment}`,children:"bullish"===a.sentiment?"↑ Bullish":"bearish"===a.sentiment?"↓ Bearish":"— Neutral"})]}),(0,b.jsxs)("h3",{className:"news-title",children:[(0,b.jsx)(e.default,{href:`/news/${a.slug||a._id}/`,children:a.translatedTitle||a.title}),(0,b.jsx)("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"external-link-icon",title:"Open original",children:"↗"})]}),a.translatedTitle&&(0,b.jsx)("p",{className:"news-original-title",children:a.title}),r&&(0,b.jsx)("div",{className:"news-full-content show",children:q?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bilingual-section",children:[(0,b.jsx)("span",{className:"lang-label lang-th",children:"TH"}),(0,b.jsx)("p",{children:a.translatedContent})]}),(0,b.jsx)("div",{className:"lang-divider"}),(0,b.jsxs)("div",{className:"bilingual-section",children:[(0,b.jsx)("span",{className:"lang-label lang-en",children:"EN"}),(0,b.jsx)("p",{children:a.content})]})]}):(0,b.jsx)("p",{children:a.translatedContent||a.content})}),(0,b.jsxs)("div",{className:"news-meta",children:[(0,b.jsx)("time",{dateTime:a.pubDate,children:(g=a.pubDate,i=new Date,(k=Math.floor((i-(j=new Date(g)))/1e3))<60?"just now":k<3600?`${Math.floor(k/60)}m ago`:k<86400?`${Math.floor(k/3600)}h ago`:k<604800?`${Math.floor(k/86400)}d ago`:j.toLocaleDateString())}),(0,b.jsx)("div",{className:"news-tags",children:p.map(a=>(0,b.jsx)("span",{className:`category-badge tag-${a}`,children:a},a))})]})]})]})}function g(){let[a,e]=(0,c.useState)(null),[f,g]=(0,c.useState)(!0),h=(0,c.useCallback)(async()=>{try{let a=await fetch(`${process.env.NEXT_PUBLIC_API_URL||"http://localhost:13002"}/api/insight`);if(a.ok){let b=await a.json();b.success&&b.data&&e(b.data)}}catch{}finally{g(!1)}},[]);if((0,c.useEffect)(()=>{h();let a=(0,d.io)(API_URL,{path:"/socket.io",transports:["websocket","polling"]});return a.on("insight_update",()=>{h()}),()=>{a.disconnect()}},[h]),f||!a)return null;let{sentiment:i,summary:j,summaryEn:k,keyTopics:l,marketMood:m,updatedAt:n}=a,o={bullish:{label:"BULLISH",color:"var(--green)",icon:"▲"},bearish:{label:"BEARISH",color:"var(--red)",icon:"▼"},neutral:{label:"NEUTRAL",color:"var(--text-muted)",icon:"◆"}},p=o[m]||o.neutral,q=n?function(a){let b=Math.floor((new Date-a)/1e3);if(b<60)return"just now";let c=Math.floor(b/60);if(c<60)return`${c}m ago`;let d=Math.floor(c/60);return d<24?`${d}h ago`:`${Math.floor(d/24)}d ago`}(new Date(n)):"";return(0,b.jsx)("div",{className:"market-insight",children:(0,b.jsxs)("div",{className:"container",children:[(0,b.jsxs)("div",{className:"insight-header",children:[(0,b.jsxs)("div",{className:"insight-title",children:[(0,b.jsx)("span",{className:"insight-icon",children:"AI"}),(0,b.jsx)("span",{children:"MARKET INSIGHT"})]}),(0,b.jsxs)("div",{className:"insight-mood",style:{color:p.color},children:[(0,b.jsx)("span",{className:"mood-icon",children:p.icon}),(0,b.jsx)("span",{children:p.label})]})]}),(0,b.jsxs)("div",{className:"sentiment-bar-container",children:[(0,b.jsxs)("div",{className:"sentiment-bar",children:[i.bullish>0&&(0,b.jsx)("div",{className:"sentiment-segment bullish",style:{width:`${i.bullish}%`},children:i.bullish>=10&&`${i.bullish}%`}),i.neutral>0&&(0,b.jsx)("div",{className:"sentiment-segment neutral",style:{width:`${i.neutral}%`},children:i.neutral>=10&&`${i.neutral}%`}),i.bearish>0&&(0,b.jsx)("div",{className:"sentiment-segment bearish",style:{width:`${i.bearish}%`},children:i.bearish>=10&&`${i.bearish}%`})]}),(0,b.jsxs)("div",{className:"sentiment-labels",children:[(0,b.jsxs)("span",{className:"sentiment-label bullish",children:["BULLISH ",i.bullish,"%"]}),(0,b.jsxs)("span",{className:"sentiment-label neutral",children:["NEUTRAL ",i.neutral,"%"]}),(0,b.jsxs)("span",{className:"sentiment-label bearish",children:["BEARISH ",i.bearish,"%"]})]})]}),(0,b.jsxs)("div",{className:"insight-summary",children:[(0,b.jsxs)("div",{className:"bilingual-section",children:[(0,b.jsx)("span",{className:"lang-label lang-th",children:"TH"}),(0,b.jsx)("p",{children:j})]}),(0,b.jsx)("div",{className:"lang-divider"}),(0,b.jsxs)("div",{className:"bilingual-section",children:[(0,b.jsx)("span",{className:"lang-label lang-en",children:"EN"}),(0,b.jsx)("p",{className:"insight-summary-en",children:k})]})]}),l&&l.length>0&&(0,b.jsxs)("div",{className:"insight-topics",children:[(0,b.jsx)("span",{className:"topics-label",children:"TRENDING:"}),l.map((a,c)=>(0,b.jsx)("span",{className:"topic-chip",children:a},c))]}),(0,b.jsxs)("div",{className:"insight-footer",children:[(0,b.jsxs)("span",{className:"insight-updated",children:["Updated ",q]}),(0,b.jsxs)("span",{className:"insight-based",children:["Based on ",a.sentimentTotal||0," articles"]})]})]})})}let h=process.env.NEXT_PUBLIC_API_URL||"http://localhost:13002",i=[{id:"all",name:"All"},{id:"bitcoin",name:"Bitcoin"},{id:"ethereum",name:"Ethereum"},{id:"defi",name:"DeFi"},{id:"nft",name:"NFTs"},{id:"altcoins",name:"Altcoins"},{id:"exchanges",name:"Exchanges"},{id:"regulation",name:"Regulation"},{id:"mining",name:"Mining"}];function j({news:a}){let[e,j]=(0,c.useState)("all"),[k,l]=(0,c.useState)(a),[m,n]=(0,c.useState)(20),[o,p]=(0,c.useState)(!1),q=(0,c.useRef)(null),r=(0,c.useCallback)(async()=>{try{let a=await fetch(`${h}/api/cache?limit=500`);if(a.ok){let b=await a.json();b.success&&b.data&&l(b.data)}}catch(a){}},[]);(0,c.useEffect)(()=>{let a=(0,d.io)(h,{path:"/socket.io",transports:["websocket","polling"]});q.current=a,a.on("connect",()=>p(!0)),a.on("disconnect",()=>p(!1)),a.on("news_update",()=>{r()}),r();let b=setInterval(()=>{q.current?.connected||r()},3e4);return()=>{a.disconnect(),clearInterval(b)}},[r]);let s="all"===e?k:k.filter(a=>a.categories?.includes(e)||a.category===e),t=s.slice(0,m),u=m<s.length;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g,{}),(0,b.jsx)("div",{className:"tag-filter",children:(0,b.jsxs)("div",{className:"container",children:[i.map(a=>(0,b.jsx)("button",{className:`tag-btn tag-${a.id} ${e===a.id?"active":""}`,onClick:()=>{j(a.id),n(20)},children:a.name},a.id)),o&&(0,b.jsx)("span",{className:"live-indicator",children:"LIVE"})]})}),(0,b.jsx)("main",{className:"main-content",children:(0,b.jsxs)("div",{className:"container",children:[(0,b.jsxs)("div",{className:"news-header",children:[(0,b.jsx)("h2",{children:"all"===e?"Latest Intelligence":i.find(a=>a.id===e)?.name}),(0,b.jsxs)("span",{className:"news-count",children:[(0,b.jsx)("strong",{children:s.length})," signals detected"]})]}),(0,b.jsx)("div",{className:"news-grid",children:t.map((a,c)=>(0,b.jsx)(f,{item:a,index:c},a.guid))}),u&&(0,b.jsx)("div",{className:"load-more-container",children:(0,b.jsxs)("button",{className:"load-more-btn",onClick:()=>n(a=>a+20),children:["LOAD MORE (",s.length-m," remaining)"]})}),0===s.length&&(0,b.jsx)("div",{className:"empty-state",children:(0,b.jsx)("p",{children:"No signals detected for this filter."})})]})})]})}a.s(["default",()=>j],25968)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ac87e13d._.js.map